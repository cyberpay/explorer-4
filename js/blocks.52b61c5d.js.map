{"version":3,"sources":["webpack:///./src/pages/Blocks.vue?8a80","webpack:///./src/pages/Blocks.vue?88c4","webpack:///./src/pages/Blocks.vue?bc5a","webpack:///./src/pages/Blocks.vue","webpack:///./src/pages/Wallet/Blocks.vue?7a38","webpack:///./src/pages/Wallet/Blocks.vue?adc5","webpack:///./src/pages/Wallet/Blocks.vue?3bf4","webpack:///./src/pages/Wallet/Blocks.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","attrs","blocks","sortParams","on","onSortChange","meta","currentPage","onPageChange","_e","staticRenderFns","registerHooks","changePage","to","from","next","paginate","Number","params","page","data","vm","setBlocks","setMeta","name","map","block","price","$route","$router","push","pageCount","$store","getters","dispatch","field","type","component","_m","username","byAddress","address","getUsername","undefined","find","wallet"],"mappings":"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","file":"js/blocks.52b61c5d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-2xl mx-auto md:pt-5\"},[_c('ContentHeader',[_vm._v(_vm._s(_vm.$t(\"COMMON.BLOCKS\")))]),_c('section',{staticClass:\"page-section py-5 md:py-10\"},[_c('div',{staticClass:\"hidden sm:block\"},[_c('TableBlocksDesktop',{attrs:{\"blocks\":_vm.blocks,\"sort-query\":_vm.sortParams},on:{\"on-sort-change\":_vm.onSortChange}})],1),_c('div',{staticClass:\"sm:hidden\"},[_c('TableBlocksMobile',{attrs:{\"blocks\":_vm.blocks}})],1),(_vm.showPagination)?_c('Pagination',{attrs:{\"meta\":_vm.meta,\"current-page\":_vm.currentPage},on:{\"page-change\":_vm.onPageChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { IBlock, ISortParameters } from \"@/interfaces\";\nimport { Route } from \"vue-router\";\nimport BlockService from \"@/services/block\";\n\nComponent.registerHooks([\"beforeRouteEnter\", \"beforeRouteUpdate\"]);\n\n@Component\nexport default class BlockPage extends Vue {\n  private blocks: IBlock[] | null = null;\n  private meta: any | null = null;\n  private currentPage: number = 0;\n\n  get showPagination() {\n    return this.meta && this.meta.pageCount;\n  }\n\n  get sortParams() {\n    return this.$store.getters[\"ui/blockSortParams\"];\n  }\n\n  set sortParams(params: ISortParameters) {\n    this.$store.dispatch(\"ui/setBlockSortParams\", {\n      field: params.field,\n      type: params.type,\n    });\n  }\n\n  @Watch(\"currentPage\")\n  public onCurrentPageChanged() {\n    this.changePage();\n  }\n\n  public async beforeRouteEnter(to: Route, from: Route, next: (vm: any) => void) {\n    try {\n      const { meta, data } = await BlockService.paginate(Number(to.params.page));\n\n      next((vm: BlockPage) => {\n        vm.currentPage = Number(to.params.page);\n        vm.setBlocks(data);\n        vm.setMeta(meta);\n      });\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public async beforeRouteUpdate(to: Route, from: Route, next: (vm?: any) => void) {\n    this.blocks = null;\n    this.meta = null;\n\n    try {\n      const { meta, data } = await BlockService.paginate(Number(to.params.page));\n\n      this.currentPage = Number(to.params.page);\n      this.setBlocks(data);\n      this.setMeta(meta);\n      next();\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  private setBlocks(blocks: IBlock[]) {\n    if (!blocks) {\n      return;\n    }\n\n    this.blocks = blocks.map(block => ({ ...block, price: null }));\n  }\n\n  private setMeta(meta: any) {\n    this.meta = meta;\n  }\n\n  private onPageChange(page: number) {\n    this.currentPage = page;\n  }\n\n  private changePage() {\n    if (this.currentPage !== Number(this.$route.params.page)) {\n      // @ts-ignore\n      this.$router.push({\n        name: \"blocks\",\n        params: {\n          page: this.currentPage,\n        },\n      });\n    }\n  }\n\n  private onSortChange(params: ISortParameters) {\n    this.sortParams = params;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Blocks.vue?vue&type=template&id=62d46359&\"\nimport script from \"./Blocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./Blocks.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-2xl mx-auto md:pt-5\"},[_c('ContentHeader',[_vm._v(_vm._s(_vm.$t(\"COMMON.BLOCKS\")))]),_c('section',{staticClass:\"mb-5\"},[_c('div',{staticClass:\"px-5 sm:px-10 py-8 bg-theme-feature-background flex xl:rounded-lg items-center justify-between\"},[_vm._m(0),_c('div',{staticClass:\"flex-auto min-w-0\"},[_c('div',{staticClass:\"text-grey mb-2\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"BLOCK.GENERATED_BY\"))+\"\\n        \")]),_c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"text-lg text-white semibold truncate\"},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.username))])])])])])]),_c('section',{staticClass:\"page-section py-5 md:py-10\"},[_c('div',{staticClass:\"hidden sm:block\"},[_c('TableBlocksDesktop',{attrs:{\"blocks\":_vm.blocks,\"sort-query\":_vm.sortParams},on:{\"on-sort-change\":_vm.onSortChange}})],1),_c('div',{staticClass:\"sm:hidden\"},[_c('TableBlocksMobile',{attrs:{\"blocks\":_vm.blocks}})],1),(_vm.showPagination)?_c('Pagination',{attrs:{\"meta\":_vm.meta,\"current-page\":_vm.currentPage},on:{\"page-change\":_vm.onPageChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mr-6 flex-none\"},[_c('img',{staticClass:\"block\",attrs:{\"src\":require(\"@/assets/images/icons/block.svg\")}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { Route } from \"vue-router\";\nimport { IBlock, ISortParameters, ITransaction } from \"@/interfaces\";\nimport { BlockService, WalletService } from \"@/services\";\n\nComponent.registerHooks([\"beforeRouteEnter\", \"beforeRouteUpdate\"]);\n\n@Component\nexport default class WalletBlocks extends Vue {\n  private username: string | null = null;\n  private blocks: IBlock[] | null = null;\n  private meta: any | null = null;\n  private currentPage: number = 0;\n\n  get showPagination() {\n    return this.meta && this.meta.pageCount > 1;\n  }\n\n  get address() {\n    return this.$route.params.address;\n  }\n\n  get sortParams() {\n    return this.$store.getters[\"ui/blockSortParams\"];\n  }\n\n  set sortParams(params: ISortParameters) {\n    this.$store.dispatch(\"ui/setBlockSortParams\", {\n      field: params.field,\n      type: params.type,\n    });\n  }\n\n  @Watch(\"currentPage\")\n  public onCurrentPageChanged() {\n    this.changePage();\n  }\n\n  public async beforeRouteEnter(to: Route, from: Route, next: (vm: any) => void) {\n    try {\n      const { meta, data } = await BlockService.byAddress(to.params.address, Number(to.params.page));\n\n      next((vm: WalletBlocks) => {\n        vm.currentPage = Number(to.params.page);\n        vm.setBlocks(data);\n        vm.setMeta(meta);\n      });\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public async beforeRouteUpdate(to: Route, from: Route, next: (vm?: any) => void) {\n    this.blocks = null;\n    this.meta = null;\n\n    try {\n      const { meta, data } = await BlockService.byAddress(to.params.address, Number(to.params.page));\n\n      this.currentPage = Number(to.params.page);\n      this.setBlocks(data);\n      this.setMeta(meta);\n      next();\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public mounted() {\n    this.getUsername();\n  }\n\n  private setBlocks(blocks: IBlock[]) {\n    if (!blocks) {\n      return;\n    }\n\n    this.blocks = blocks.map(block => ({ ...block, price: null }));\n  }\n\n  private setMeta(meta: any) {\n    this.meta = meta;\n  }\n\n  private async getUsername() {\n    if (this.$route.params.username === undefined) {\n      const wallet = await WalletService.find(this.address);\n      this.username = wallet.username;\n    } else {\n      this.username = this.$route.params.username;\n    }\n  }\n\n  private onPageChange(page: number) {\n    this.currentPage = page;\n  }\n\n  private changePage() {\n    if (\n      this.currentPage !== Number(this.$route.params.page) ||\n      this.address !== this.$route.params.address ||\n      this.username !== this.$route.params.username\n    ) {\n      // @ts-ignore\n      this.$router.push({\n        name: \"wallet-blocks\",\n        params: {\n          address: this.address,\n          username: this.username,\n          page: this.currentPage,\n        },\n      });\n    }\n  }\n\n  private onSortChange(params: ISortParameters) {\n    this.sortParams = params;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blocks.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Blocks.vue?vue&type=template&id=5fbb7489&\"\nimport script from \"./Blocks.vue?vue&type=script&lang=ts&\"\nexport * from \"./Blocks.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}